<script>
    let database = [
        {
            name: "Jaket",
            stock: 20,
            price: 150000
        },
        {
            name: "Kaos",
            stock: 10,
            price: 35000
        },
        {
            name: "Sepatu",
            stock: 25,
            price: 75000
        }
    ];
    let konfirmasi = true;

    //    const printData = () => {
    //         let listData = "";
    //         database.forEach((value, index) => {
    //             listData += `${index + 1} ${value};\n`;
    //         });
    const printData = () => {
        return database.map((value, idx) => {
            return `${idx + 1}. ${value.name}, Stoknya ${value.stock}, IDR ${value.price}`
        }).join("\n");

    }
    while (konfirmasi) {
        let menu = parseInt(prompt(`Selamat Datang di Tokoku :
        1. Cek Stock
        2. Beli Produk
        3. Tambah Produk
        `))

        if (menu == 1) {
            alert(`List Produk Tokoku :\n${printData()}`)
        } else if (menu == 2) {
            let beli = parseInt(prompt(`Silahkan pilih barang :
            1. Jaket stoknya 20, IDR, 150000
            2. Kaos stoknya 10, IDR, 35000
            3. Sepatu stoknya 25, IDR 75000
            `));
        
            let inputBeli = parseInt(prompt(`Beli berapa?`));
            // console.log(inputBeli, database[beli - 1].stock)
           if (inputBeli > database[beli-1].stock){
               alert(`Stok tidak mencukupi`);
           } else{
               let uangAnda = parseInt(prompt(`Total belanja anda : IDR ${database[beli-1].price*inputBeli}
               Masukan uang anda `));
                if (uangAnda < (database[beli - 1].price * inputBeli)){
                   alert(`Uang tidak mencukupi`);  
                } else{
                    alert(`Total kembalian uang anda IDR : ${uangAnda - (database[beli - 1].price * inputBeli)}`);
                    database[beli-1].stock -= inputBeli;
                }
            }
        } if (menu == 3) {
            let tambah = [
                {
                    name: "",
                    stock: "",
                    price: "",

                }
            ];
            tambah.name = prompt(`Masukkan nama produk baru`);
            tambah.stock = prompt(`Masukkan stock produk baru`);
            tambah.price = prompt(`Masukkan harga produk baru`);
            database.push(tambah);
           konfirmasi = confirm("Kembali ke menu utama")
    }
    }
            
            
            
            


            

        // } else if (menu == 3) {
        //     let no = parseInt(prompt(`Pilih data yang akan dihapus :\n ${printData()}`));
        //     database.splice(no - 1, 1);
        // } else if (menu == 4) {
        //     let editData =
        //     {
        //         name: "",
        //         stock: "",
        //         price: "",

        //     }
        //         ;
        //     let edit = parseInt(prompt(`Pilih data yang akan diedit :\n${printData()}`));
        //     editData.name = prompt("Masukan data :");
        //     editData.stock = prompt("Masukan stock  : ");
        //     editData.price = prompt("Masukan harga : ");
        //     database.splice(edit - 1, 1, editData);

        //     // let no = parseInt(prompt(`Pilih data yang akan diedit :\n${printData()}`));
        //     // let newData = prompt("Masukan data baru :");
        //     // database[no - 1] = newData;
        // } else {
        //     alert("Menu yang anda cari tidak ada")
        // }
        // konfirmasi = confirm("Kembali ke menu utama")
        
    // }

    // let jumlah = 0;
    // database.forEach(function (value, index) {
    //     jumlah += value.price
    // })
    // console.log(jumlah);
    
</script>
        